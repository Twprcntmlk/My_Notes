function update_branches {(if [ "${#}" -lt 1 ] ; thenecho 1>&2 "usage: ${0} FF_BRANCH_NAME ..."exit 1filocal cur_br ff_br brset -eux -o pipefailcur_br="$( git rev-parse --abbrev-ref HEAD )"if [ "${cur_br}" = HEAD ] ; thencur_br="$( git rev-parse HEAD )"fi"${GIT:-git}" fetch --all --prune"${GIT:-git}" branch --verbose --verbosefor ff_br in "${@}" ; do"${GIT:-git}" checkout "${ff_br}""${GIT:-git}" merge --ff-onlydonebranches=( $( "${GIT:-git}" branch --format='%(refname:short)' --list ) )for br in ${branches[@]} ; doif [ "${br}" = "${br#schoung/}" ] \&& [ "${br}" = "${br#posita/}" ] ; thencontinuefi"${GIT:-git}" checkout "${br}""${GIT:-git}" rebase || ( "${GIT:-git}" status ; exit 1 )done"${GIT:-git}" checkout "${@: -1}" # check out last provided ff_br"${GIT:-git}" submodule update --init --recursive"${GIT:-git}" submodule foreach --recursive "${GIT:-git} fetch --all --prune""${GIT:-git}" submodule foreach --recursive "${GIT:-git} status --branch --short""${GIT:-git}" checkout "${cur_br}")}
